{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kamil\\\\Documents\\\\GitHub\\\\LepszyUPEL\\\\src\\\\RequireAuth.js\";\nimport React from \"react\";\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport AuthContext from \"./context/AuthProvider\";\nconst RequireAuth = _ref => {\n  var _auth$roles;\n  let {\n    allowedRoles\n  } = _ref;\n  const {\n    auth\n  } = useContext(AuthContext);\n  const location = useLocation();\n\n  // console.log(auth);\n  //debugger;\n  return (auth === null || auth === void 0 ? void 0 : (_auth$roles = auth.roles) === null || _auth$roles === void 0 ? void 0 : _auth$roles.find(role => allowedRoles === null || allowedRoles === void 0 ? void 0 : allowedRoles.includes(role) // THIS CHECKS ONLY ONE ROLE, CHANGE WHEN NEEDED\n  )) ? /*#__PURE__*/React.createElement(Outlet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }) : (auth === null || auth === void 0 ? void 0 : auth.login) ? /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/unauthorized\",\n    state: {\n      from: location\n    },\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/login\",\n    state: {\n      from: location\n    },\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  });\n};\nexport default RequireAuth;","map":{"version":3,"names":["React","useLocation","Navigate","Outlet","useContext","AuthContext","RequireAuth","allowedRoles","auth","location","roles","find","role","includes","login","from"],"sources":["C:/Users/kamil/Documents/GitHub/LepszyUPEL/src/RequireAuth.js"],"sourcesContent":["import React from \"react\";\r\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\r\nimport { useContext } from \"react\";\r\nimport AuthContext from \"./context/AuthProvider\";\r\n\r\nconst RequireAuth = ({ allowedRoles }) => {\r\n  const { auth } = useContext(AuthContext);\r\n  const location = useLocation();\r\n\r\n  // console.log(auth);\r\n  //debugger;\r\n  return auth?.roles?.find(\r\n    (role) => allowedRoles?.includes(role) // THIS CHECKS ONLY ONE ROLE, CHANGE WHEN NEEDED\r\n  ) ? (\r\n    <Outlet />\r\n  ) : auth?.login ? (\r\n    <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\r\n  ) : (\r\n    <Navigate to=\"/login\" state={{ from: location }} replace />\r\n  );\r\n};\r\n\r\nexport default RequireAuth;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAChE,SAASC,UAAU,QAAQ,OAAO;AAClC,OAAOC,WAAW,MAAM,wBAAwB;AAEhD,MAAMC,WAAW,GAAG,QAAsB;EAAA;EAAA,IAArB;IAAEC;EAAa,CAAC;EACnC,MAAM;IAAEC;EAAK,CAAC,GAAGJ,UAAU,CAACC,WAAW,CAAC;EACxC,MAAMI,QAAQ,GAAGR,WAAW,EAAE;;EAE9B;EACA;EACA,OAAO,CAAAO,IAAI,aAAJA,IAAI,sCAAJA,IAAI,CAAEE,KAAK,gDAAX,YAAaC,IAAI,CACrBC,IAAI,IAAKL,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEM,QAAQ,CAACD,IAAI,CAAC,CAAC;EAAA,CACxC,iBACC,oBAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GACR,CAAAJ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,KAAK,iBACb,oBAAC,QAAQ;IAAC,EAAE,EAAC,eAAe;IAAC,KAAK,EAAE;MAAEC,IAAI,EAAEN;IAAS,CAAE;IAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,gBAElE,oBAAC,QAAQ;IAAC,EAAE,EAAC,QAAQ;IAAC,KAAK,EAAE;MAAEM,IAAI,EAAEN;IAAS,CAAE;IAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACzD;AACH,CAAC;AAED,eAAeH,WAAW"},"metadata":{},"sourceType":"module"}