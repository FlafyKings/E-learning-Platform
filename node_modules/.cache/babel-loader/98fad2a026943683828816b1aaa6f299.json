{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kamil\\\\Documents\\\\GitHub\\\\LepszyUPEL\\\\src\\\\RequireAuth.js\";\nimport React from \"react\";\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport useAuth from \"./hooks/useAuth\";\nconst RequireAuth = _ref => {\n  let {\n    allowedRoles\n  } = _ref;\n  const {\n    auth\n  } = useAuth();\n  const location = useLocation();\n  return (auth === null || auth === void 0 ? void 0 : auth.roles.find(role => allowedRoles.includes(role))) ? /*#__PURE__*/React.createElement(Outlet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 5\n    }\n  }) : auth.user ? /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/unauthorized\",\n    state: {\n      from: location\n    },\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/login\",\n    state: {\n      from: location\n    },\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  });\n};\nexport default RequireAuth;","map":{"version":3,"names":["React","useLocation","Navigate","Outlet","useAuth","RequireAuth","allowedRoles","auth","location","roles","find","role","includes","user","from"],"sources":["C:/Users/kamil/Documents/GitHub/LepszyUPEL/src/RequireAuth.js"],"sourcesContent":["import React from \"react\";\r\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\r\nimport useAuth from \"./hooks/useAuth\";\r\n\r\nconst RequireAuth = ({ allowedRoles }) => {\r\n  const { auth } = useAuth();\r\n  const location = useLocation();\r\n\r\n  return auth?.roles.find((role) => allowedRoles.includes(role)) ? (\r\n    <Outlet />\r\n  ) : auth.user ? (\r\n    <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\r\n  ) : (\r\n    <Navigate to=\"/login\" state={{ from: location }} replace />\r\n  );\r\n};\r\n\r\nexport default RequireAuth;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAChE,OAAOC,OAAO,MAAM,iBAAiB;AAErC,MAAMC,WAAW,GAAG,QAAsB;EAAA,IAArB;IAAEC;EAAa,CAAC;EACnC,MAAM;IAAEC;EAAK,CAAC,GAAGH,OAAO,EAAE;EAC1B,MAAMI,QAAQ,GAAGP,WAAW,EAAE;EAE9B,OAAO,CAAAM,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,KAAK,CAACC,IAAI,CAAEC,IAAI,IAAKL,YAAY,CAACM,QAAQ,CAACD,IAAI,CAAC,CAAC,iBAC5D,oBAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GACRJ,IAAI,CAACM,IAAI,gBACX,oBAAC,QAAQ;IAAC,EAAE,EAAC,eAAe;IAAC,KAAK,EAAE;MAAEC,IAAI,EAAEN;IAAS,CAAE;IAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,gBAElE,oBAAC,QAAQ;IAAC,EAAE,EAAC,QAAQ;IAAC,KAAK,EAAE;MAAEM,IAAI,EAAEN;IAAS,CAAE;IAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACzD;AACH,CAAC;AAED,eAAeH,WAAW"},"metadata":{},"sourceType":"module"}