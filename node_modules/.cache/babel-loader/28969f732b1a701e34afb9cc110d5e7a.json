{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kamil\\\\Documents\\\\GitHub\\\\LepszyUPEL\\\\src\\\\RequireAuth.js\";\nimport React from \"react\";\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\nimport useAuth from \"./hooks/useAuth\";\nfunction sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\nconst RequireAuth = _ref => {\n  let {\n    allowedRoles\n  } = _ref;\n  const {\n    auth\n  } = useAuth();\n  const location = useLocation();\n  console.log(auth);\n  sleep(1000);\n  debugger;\n  return (auth === null || auth === void 0 ? void 0 : auth.roles.find(role => allowedRoles === null || allowedRoles === void 0 ? void 0 : allowedRoles.includes(role))) ? /*#__PURE__*/React.createElement(Outlet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }) : (auth === null || auth === void 0 ? void 0 : auth.user) ? /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/unauthorized\",\n    state: {\n      from: location\n    },\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(Navigate, {\n    to: \"/login\",\n    state: {\n      from: location\n    },\n    replace: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  });\n};\nexport default RequireAuth;","map":{"version":3,"names":["React","useLocation","Navigate","Outlet","useAuth","sleep","ms","Promise","resolve","setTimeout","RequireAuth","allowedRoles","auth","location","console","log","roles","find","role","includes","user","from"],"sources":["C:/Users/kamil/Documents/GitHub/LepszyUPEL/src/RequireAuth.js"],"sourcesContent":["import React from \"react\";\r\nimport { useLocation, Navigate, Outlet } from \"react-router-dom\";\r\nimport useAuth from \"./hooks/useAuth\";\r\n\r\nfunction sleep(ms) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms));\r\n}\r\n\r\nconst RequireAuth = ({ allowedRoles }) => {\r\n  const { auth } = useAuth();\r\n  const location = useLocation();\r\n  console.log(auth);\r\n  sleep(1000);\r\n  debugger;\r\n  return auth?.roles.find((role) => allowedRoles?.includes(role)) ? (\r\n    <Outlet />\r\n  ) : auth?.user ? (\r\n    <Navigate to=\"/unauthorized\" state={{ from: location }} replace />\r\n  ) : (\r\n    <Navigate to=\"/login\" state={{ from: location }} replace />\r\n  );\r\n};\r\n\r\nexport default RequireAuth;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AAChE,OAAOC,OAAO,MAAM,iBAAiB;AAErC,SAASC,KAAK,CAACC,EAAE,EAAE;EACjB,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAKC,UAAU,CAACD,OAAO,EAAEF,EAAE,CAAC,CAAC;AAC1D;AAEA,MAAMI,WAAW,GAAG,QAAsB;EAAA,IAArB;IAAEC;EAAa,CAAC;EACnC,MAAM;IAAEC;EAAK,CAAC,GAAGR,OAAO,EAAE;EAC1B,MAAMS,QAAQ,GAAGZ,WAAW,EAAE;EAC9Ba,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;EACjBP,KAAK,CAAC,IAAI,CAAC;EACX;EACA,OAAO,CAAAO,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,KAAK,CAACC,IAAI,CAAEC,IAAI,IAAKP,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,QAAQ,CAACD,IAAI,CAAC,CAAC,iBAC7D,oBAAC,MAAM;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,GACR,CAAAN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,IAAI,iBACZ,oBAAC,QAAQ;IAAC,EAAE,EAAC,eAAe;IAAC,KAAK,EAAE;MAAEC,IAAI,EAAER;IAAS,CAAE;IAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,gBAElE,oBAAC,QAAQ;IAAC,EAAE,EAAC,QAAQ;IAAC,KAAK,EAAE;MAAEQ,IAAI,EAAER;IAAS,CAAE;IAAC,OAAO;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EACzD;AACH,CAAC;AAED,eAAeH,WAAW"},"metadata":{},"sourceType":"module"}